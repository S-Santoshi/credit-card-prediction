<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Credit Card Risk Prediction</title>
    <style>
      .home-content {
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      .home-content h2 {
        color: #333;
        border-bottom: 2px solid #333;
        padding-bottom: 10px;
      }

      .home-content p {
        line-height: 1.6;
        margin-bottom: 15px;
      }

      .home-content ul {
        list-style-type: disc;
        margin-left: 20px;
      }

      .home-content ul li {
        margin-bottom: 8px;
      }

      /* Responsive CSS */
      @media only screen and (max-width: 600px) {
        .home-content {
          padding: 15px;
        }

        .home-content h2 {
          font-size: 22px;
        }

        .home-content p {
          font-size: 14px;
        }

        .home-content ul {
          margin-left: 15px;
        }
      }

      body {
        font-family: Arial, sans-serif;
        background: white;
        margin: 0;
        padding: 0;
      }

      nav {
        background-color: #333;
        overflow: hidden;
        position: fixed; /* Add this line to keep the navbar fixed */
        top: 0; /* Add this line to position the navbar at the top */
        width: 100%; /* Add this line to make the navbar span the entire width of the viewport */
        z-index: 1000; /* Add this line to ensure the navbar stays above other content */
      }

      nav ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
      }

      nav ul li {
        float: left;
      }

      nav ul li a {
        display: block;
        color: white;
        text-align: center;
        padding: 14px 20px;
        text-decoration: none;
      }

      nav ul li a:hover {
        background-color: #ddd;
        color: black;
      }

      /* Tab content styles */
      .tabcontent {
        display: none;
        padding: 20px;
        background-color: #ffffff;
        color: #333333;
      }

      .tabcontent.active {
        display: block;
      }

      .container {
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        text-align: center;
        margin-bottom: 20px;
      }

      label {
        font-weight: bold;
      }

      input[type="text"],
      select {
        width: 100%;
        padding: 10px;
        margin: 5px 0 15px 0;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
      }

      input[type="submit"] {
        background-color: #4caf50;
        color: white;
        padding: 14px 20px;
        margin: 10px 0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
      }

      input[type="submit"]:hover {
        background-color: #45a049;
      }
    </style>
  </head>
  <body>
    <nav>
      <ul>
        <li><a class="tablink" href="#home">Home</a></li>
        <li>
          <a class="tablink" href="#credit-card-risk-prediction"
            >Credit Card Risk Prediction</a
          >
        </li>
        <li><a class="tablink" href="#analysis">Analysis</a></li>
      </ul>
    </nav>

    <div id="home" class="tabcontent active">
      <div class="home-content">
        <h1>Welcome to Credit Card Risk Awareness</h1>
        <h2>Understanding Credit Card Risk</h2>
        <p>
          Credit card risk refers to the potential of financial loss due to
          defaults on credit card payments by cardholders. It can lead to
          various negative consequences, including higher interest rates, lower
          credit limits, and damage to credit scores.
        </p>

        <h2>How to Avoid Credit Card Risk</h2>
        <ul>
          <li>
            Pay your credit card bills on time to avoid late fees and negative
            marks on your credit report.
          </li>
          <li>
            Keep your credit card balances low relative to your credit limits to
            maintain a healthy credit utilization ratio.
          </li>
          <li>
            Avoid maxing out your credit cards, as it can signal financial
            distress to lenders.
          </li>
          <li>
            Regularly review your credit card statements for any unauthorized
            charges or errors.
          </li>
          <li>
            Avoid applying for multiple credit cards within a short period, as
            it can lower your credit score.
          </li>
        </ul>

        <h2>Tips for Maintaining a Good Credit Score</h2>
        <ul>
          <li>
            Pay all bills on time, including credit card bills, utility bills,
            and loan payments.
          </li>
          <li>
            Keep your credit card balances low and maintain a low credit
            utilization ratio.
          </li>
          <li>
            Regularly check your credit report for errors and dispute any
            inaccuracies.
          </li>
          <li>
            Avoid closing old credit card accounts, as it can shorten your
            credit history and impact your credit score.
          </li>
          <li>
            Limit new credit applications and only apply for credit when
            necessary.
          </li>
        </ul>
      </div>
    </div>

    <div id="credit-card-risk-prediction" class="tabcontent">
      <div class="container">
        <h1>Credit Card Risk Prediction</h1>
        <form id="predictionForm">
          <!-- gender -->
          <label for="gender">Gender:</label>
          <select id="gender" name="gender" required>
            <option value="">----Select Gender----</option>
            <option value="M">Male</option>
            <option value="F">Female</option></select
          ><br />

          <!-- has property ? -->
          <label for="property">Do you own any property?</label>
          <select id="property" name="property" required>
            <option value="">Select</option>
            <option value=1>Yes</option>
            <option value=0>No</option></select
          ><br />

          <!-- has car ? -->
          <label for="car">Do you Own a car?</label>
          <select id="car" name="car" required>
            <option value="">----Select----</option>
            <option value=1>Yes</option>
            <option value=0>No</option></select
          ><br />

          <!-- children count -->
          <label for="children"> Count of Children:</label>
          <input
            type="text"
            class="numeric-input"
            id="children"
            name="children"
            required
          /><br />

          <!-- Income of the individual -->
          <label for="income"> Income:</label>
          <input
            type="text"
            id="income"
            class="numeric-input"
            name="income"
            required
          /><br />

          <!-- Current employment status -->
          <label for="emplymentStatus">Current Emplyment Status?</label>
          <select id="emplymentStatus" name="emplymentStatus" required>
            <option value="">----Select----</option>
            <option value="Working">Working</option>
            <option value="Commercial associate">Commercial associate</option>
            <option value="Pensioner">Pensioner</option>
            <option value="State servant">State servant</option>
            <option value="Student">Student</option></select
          ><br />

          <!-- Highest level of education attained -->
          <label for="education">Highest Level of education attained:</label>
          <select id="education" name="education" required>
            <option value="">Select</option>
            <option value="Secondary / secondary special">
              Secondary / secondary special
            </option>
            <option value="Higher education">Higher education</option>
            <option value="Lower secondary">Lower secondary</option>
            <option value="Incomplete higher">Incomplete higher</option>
            <option value="Academic degree">Academic degree</option></select
          ><br />

          <!-- Marital status -->
          <label for="maritalStatus">Marital Status?</label>
          <select id="maritalStatus" name="maritalStatus" required>
            <option value="">----Select----</option>
            <option value="Married">Married</option>
            <option value="Single / not married">Single / not married</option>
            <option value="Separated">Separated</option>
            <option value="Civil marriage">Civil marriage</option>
            <option value="Widow">Widow</option>
            <option value=""></option></select
          ><br />

          <!--  Type of dwelling the individual resides in -->
          <label for="dwelling">Type of Dwelling or Residence?</label>
          <select id="dwelling" name="dwelling" required>
            <option value="">----Select----</option>
            <option value="With parents">With parents</option>
            <option value="House / apartment">House / apartment</option>
            <option value="Municipal apartment">Municipal apartment</option>
            <option value="Rented apartment">Rented apartment</option>
            <option value="Office apartment">Office apartment</option>
            <option value="Co-op apartment">Co-op apartment'</option></select
          ><br />
          <!-- Age of the individual -->
          <label for="age">Age:</label>
          <input
            type="text"
            id="age"
            class="numeric-input"
            name="age"
            required
          /><br />

          <!-- Length of time the individual has been employed -->
          <label for="employmentDate">Employment Date: </label>
          <br />
          <input
            type="date"
            id="employmentDate"
            name="employmentDate"
            required
          /><br />
          <br />

          <!-- Has a work phone -->
          <label for="workPhone">Do you have a work phone?</label>
          <select id="workPhone" name="workPhone" required>
            <option value="">----Select----</option>
            <option value=1>Yes</option>
            <option value=0>No</option></select
          ><br />

          <!-- Has a phone -->
          <label for="phone">Do you have a phone?</label>
          <select id="phone" name="phone" required>
            <option value="">----Select----</option>
            <option value=1>Yes</option>
            <option value=0>No</option></select
          ><br />

          <!-- Has an email -->
          <label for="email">Do you have an email id?</label>
          <select id="email" name="email" required>
            <option value="">----Select----</option>
            <option value=1>Yes</option>
            <option value=0>No</option></select
          ><br />

          <!-- Job title -->
          <label for="jobTitle">What is your Job Title?</label>
          <select id="jobTitle" name="jobTitle" required>
            <option value="">----Select----</option>
            <option value="Core staff">Core staff</option>
            <option value="Accountants">Accountants</option>
            <option value="Laborers">Laborers</option>
            <option value="Managers">Managers</option>
            <option value="Sales staff">Sales staff</option>
            <option value="Medicine staff">Medicine staff</option>
            <option value="High skill tech staff">High skill tech staff</option>
            <option value="HR staff">HR staff</option>
            <option value="Low-skill Laborers">Low-skill Laborers</option>
            <option value="Drivers">Drivers</option>
            <option value="Secretaries">Secretaries</option>
            <option value="Cleaning staff">Cleaning staff</option>
            <option value="Cooking staff">Cooking staff</option>
            <option value="Security staff'">Security staff'</option>
            <option value="Private service staff">Private service staff</option>
            <option value="IT staff">IT staff</option>
            <option value="Waiters/barmen staff">Waiters/barmen staff</option>
            <option value="Realty agents">Realty agents</option></select
          ><br />

          <!-- Family member count -->
          <label for="familyMemberCount">Count of Family Members:</label>
          <input
            type="text"
            id="familyMemberCount"
            name="familyMemberCount"
            class="numeric-input"
            required
          /><br />

          <!-- Account age -->
          <label for="accountAge">Age of Account:</label>
          <input
            type="text"
            id="accountAge"
            class="numeric-input"
            name="accountAge"
            required
          /><br />

          <input type="submit" value="Predict" />
        </form>
        <div id="result"></div>
      </div>
    </div>

    <div id="analysis" class="tabcontent">
      <h1>Analysis</h1>
      <!-- Analysis content -->
    </div>

    <script>
      function toggleContent(id) {
        var content = document.getElementById(id);
        content.style.display =
          content.style.display === "none" ? "block" : "none";
      }

      document.addEventListener("DOMContentLoaded", function () {
        try {
          // Validation for inputs (can enter only numeric value and up to 2 decimal points)
          var numericInputs = document.querySelectorAll(".numeric-input");
          numericInputs.forEach(function (input) {
            input.addEventListener("input", function (e) {
              var inputText = e.target.value; // Get the entered text in the input field
              var sanitizedText = inputText.replace(/[^0-9.,]/g, ""); // Remove non-numeric characters except decimal points and commas
              var decimalParts = sanitizedText.split("."); // Split the text based on decimal points
              e.target.value = sanitizedText; // Set the input value to the sanitized text
              if (decimalParts.length > 1) {
                decimalParts[1] = decimalParts[1].slice(0, 2); // If there are decimal parts greater than one, limit decimal places to 2
                sanitizedText = decimalParts.join(".");
              }
              e.target.value = sanitizedText;
            });
          });
        } catch (ex) {
          console.log("Input check error: " + ex.message);
        }
      });

      document.querySelectorAll(".tablink").forEach((link) => {
        link.addEventListener("click", function (event) {
          event.preventDefault();
          const tabId = this.getAttribute("href").substring(1);
          // Hide all tab content
          document.querySelectorAll(".tabcontent").forEach((tab) => {
            tab.classList.remove("active");
          });
          // Show the clicked tab content
          document.getElementById(tabId).classList.add("active");
        });
      });

      document
        .getElementById("predictionForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          var formData = new FormData(this);
          fetch("/predict", {
            method: "POST",
            body: formData,
          })
            .then((response) => response.text())
            .then((data) => {
              document.getElementById("result").innerHTML =
                "<p>Is high risk: " + data + "</p>";
            })
            .catch((error) => {
              console.error("Error:", error);
            });
        });
    </script>
  </body>
</html>
